<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Goal-Lumpsum Calculator — Rupesh Khaire</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
body { margin:0; font-family:'Inter',sans-serif; background:#0d1b34; color:#eaf6ff; }
main { max-width:900px; margin:0 auto; padding:40px 20px; }
header { text-align:center; margin-bottom:50px; }
header h1 { font-size:36px; background: linear-gradient(90deg,#7ee7ff,#b38bff); -webkit-background-clip:text; color:transparent; }
header p { margin-top:5px; color:#a0bce6; font-size:16px; }

.calculator { background: linear-gradient(135deg,#1c2b4a,#0d1b34); padding:30px; border-radius:16px; border:1px solid rgba(255,255,255,0.05); }
.input-group { margin-bottom: 25px; }
.input-label { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; }
.input-label label { font-size: 1.2rem; font-weight: bold; color: #7ee7ff; }
.input-field-container { display: flex; align-items: center; gap: 10px; }
input[type="range"] { -webkit-appearance: none; width: 100%; height: 8px; background: #555; border-radius: 5px; outline: none; transition: background 0.2s; }
input[type="range"]::-webkit-slider-thumb { -webkit-appearance: none; appearance: none; width: 20px; height: 20px; border-radius: 50%; background: #b38bff; cursor: pointer; border: 2px solid #fff; }
input[type="number"] { width: 120px; padding: 8px; border-radius: 8px; border: 1px solid #4b6cb7; background: #1c2b4a; color: #eaf6ff; font-size: 16px; text-align: right; }

.examples { display: flex; flex-wrap: wrap; justify-content: center; margin-top: 20px; }
.examples button { margin:5px; padding:8px 12px; font-size:14px; border:none; border-radius:8px; cursor:pointer; background:#4b6cb7; color:#eaf6ff; transition:0.3s; }
.examples button:hover { background:#7ee7ff; color:#0d1b34; }

canvas { margin-top:30px; background:#1c2b4a; border-radius:12px; }
.result { margin-top:20px; font-size:18px; background:#1c2b4a; padding:20px; border-radius:12px; display: flex; justify-content: space-around; text-align: center; }
.result-item h3 { margin: 0; font-size: 1.1rem; color:#a0bce6; }
.result-item p { margin: 5px 0 0; font-size: 1.5rem; font-weight: bold; color: #7ee7ff; }

footer { text-align:center; margin-top:60px; color:#a0bce6; font-size:13px; padding-bottom:40px; }
@media (max-width:600px){ 
  main{padding:20px 10px;} 
  .result { flex-direction: column; }
  .result-item { margin-bottom: 20px; }
}
.whatsapp { position:fixed; bottom:20px; right:20px; background:#25d366; color:white; padding:15px 20px; border-radius:50px; font-size:16px; text-decoration:none; box-shadow:0 5px 20px rgba(0,0,0,0.4); }
</style>
</head>
<body>
<main>
<header>
<h1>Rupesh Khaire</h1>
<p>AMFI Registered Mutual Fund Distributor</p>
</header>

<div class="calculator">
  <div class="input-group">
    <div class="input-label">
      <label>Target Amount (₹)</label>
      <input type="number" id="target-value-input" value="500000" oninput="calculate()">
    </div>
    <input type="range" id="target" min="100000" max="100000000" value="500000" oninput="syncInputs('target')">
  </div>

  <div class="input-group">
    <div class="input-label">
      <label>Expected Annual Return (%)</label>
      <input type="number" id="rate-value-input" value="12" oninput="calculate()">
    </div>
    <input type="range" id="rate" min="1" max="30" value="12" oninput="syncInputs('rate')">
  </div>

  <div class="input-group">
    <div class="input-label">
      <label>Time Horizon (Years)</label>
      <input type="number" id="years-value-input" value="10" oninput="calculate()">
    </div>
    <input type="range" id="years" min="1" max="50" value="10" oninput="syncInputs('years')">
  </div>
  
  <div class="examples">
    <label>Examples:</label>
    <button onclick="setExample(500000,10,15)">Child Education</button>
    <button onclick="setExample(1000000,12,20)">House</button>
    <button onclick="setExample(2000000,10,25)">Retirement</button>
  </div>
  
  <div class="result" id="result"></div>
  <canvas id="growthChart" height="300"></canvas>
</div>

<a href="https://wa.me/918669095783" target="_blank" class="whatsapp">WhatsApp Rupesh</a>

<footer>
© 2025 Rupesh Khaire | AMFI Registered Mutual Fund Distributor
</footer>
</main>

<script>
let chart;

window.onload = function() {
  calculate();
};

function syncInputs(id) {
  const rangeSlider = document.getElementById(id);
  const inputField = document.getElementById(id + '-value-input');
  inputField.value = rangeSlider.value;
  calculate();
}

function setExample(target, rate, years){
  document.getElementById('target-value-input').value = target;
  document.getElementById('rate-value-input').value = rate;
  document.getElementById('years-value-input').value = years;
  calculate();
}

function calculate(){
  const FV = parseFloat(document.getElementById('target-value-input').value);
  const r_annual = parseFloat(document.getElementById('rate-value-input').value);
  const n_years = parseInt(document.getElementById('years-value-input').value);
  
  // Update sliders to reflect typed values (within their min/max)
  document.getElementById('target').value = Math.min(Math.max(FV, 100000), 100000000);
  document.getElementById('rate').value = Math.min(Math.max(r_annual, 1), 30);
  document.getElementById('years').value = Math.min(Math.max(n_years, 1), 50);

  const r_decimal = r_annual / 100;
  
  // Present Value (Lumpsum needed): PV = FV / (1+r)^n
  const PV = FV / Math.pow(1 + r_decimal, n_years);
  const wealth_gained = FV - PV;

  const resultDiv = document.getElementById('result');
  resultDiv.innerHTML = `
    <div class="result-item">
      <h3>Lumpsum to Invest</h3>
      <p>₹${Math.round(PV).toLocaleString('en-IN')}</p>
    </div>
    <div class="result-item">
      <h3>Est. Returns</h3>
      <p>₹${Math.round(wealth_gained).toLocaleString('en-IN')}</p>
    </div>
    <div class="result-item">
      <h3>Total Value</h3>
      <p>₹${Math.round(FV).toLocaleString('en-IN')}</p>
    </div>
  `;

  let labels = [];
  let data = [];
  
  for(let i=0; i<=n_years; i++){
    labels.push(`Year ${i}`);
    const value = PV * Math.pow(1 + r_decimal, i);
    data.push(value);
  }

  const ctx = document.getElementById('growthChart').getContext('2d');
  if(chart) chart.destroy();
  chart = new Chart(ctx, {
    type:'line',
    data:{
      labels:labels,
      datasets:[{
        label:'Projected Lumpsum Growth',
        data:data,
        borderColor:'#7ee7ff',
        backgroundColor:'rgba(126,231,255,0.2)',
        tension:0.3,
        fill:true,
        pointRadius:5
      }]
    },
    options:{ 
      responsive:true, 
      plugins:{ 
        legend:{ 
          labels:{ color:'#eaf6ff' } 
        } 
      }, 
      scales:{ 
        x:{ 
          ticks:{ color:'#eaf6ff' },
          grid: { color: 'rgba(255, 255, 255, 0.1)' }
        }, 
        y:{ 
          ticks:{ color:'#eaf6ff' },
          grid: { color: 'rgba(255, 255, 255, 0.1)' }
        } 
      } 
    }
  });
}
</script>
</body>
</html>
